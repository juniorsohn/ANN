
import math

#   INTEGRAIS
#           QUADRATURA GAUSSIANA

#(ponto x, peso c)

n2 = [ (0.5773502692, 1.0000000000), (-0.5773502692, 1.0000000000)]
n3 = [ (0.7745966692, 0.5555555556), (0.0000000000, 0.8888888889), (-0.7745966692, 0.5555555556) ]
n4 = [ (0.8611363116, 0.3478548451), (0.3399810436, 0.6521451549), (-0.3399810436, 0.6521451549), (-0.8611363116, 0.3478548451) ]
n5 = [ (0.9061798459, 0.2369268850), (0.5384693101, 0.4786286705), (0.0000000000, 0.5688888889), (-0.5384693101, 0.4786286704), (-0.9061798459, 0.2369268850) ]

#usar somente se o intervalo for de [-1, 1], caso não, usar mudanca
def quadratura(f, ponto_e_peso):
   soma = 0
   for x_k, c_k in ponto_e_peso:
      soma += c_k * f(x_k)
   return soma

#para integrais não definadas por intervalo [-1, 1] precisa fazer mudanca de variaveis
def mudanca(f, a, b, u):
  return f( ( b + a)/2 + ( b - a) * u /2) * ( b - a ) / 2

# a,b = [2,5]

# def g(u):
#    return mudanca(f, a, b, u)

# def f(x):
#    return math.exp(-x ** 2)

#--------------------------------------------------------------------------
#EX 72
# def f(x):
#    return math.e**-(x**2)
# a,b = -1.99102, 1.65527

# def g(u):
#    return mudanca(f,a,b,u)
#--------------------------------------------------------------------------
#--------------------------------------------------------------------------
#EX 73
# def f(x):
#    return math.sqrt(math.sin(math.cos(math.log(x**2+1)+2)+3)+4)

# a,b = -1.16972, 1.63543

# def g(u):
#    return mudanca(f,a,b,u)

# pontos = (-0.14887433898163122, 0.14887433898163122, -0.4333953941292472, 0.4333953941292472, -0.6794095682990244, 0.6794095682990244, -0.8650633666889845, 0.8650633666889845, -0.9739065285171717, 0.9739065285171717)
# pesos = (0.29552422471475287, 0.29552422471475287, 0.26926671930999635, 0.26926671930999635, 0.21908636251598204, 0.21908636251598204, 0.1494513491505806, 0.1494513491505806, 0.06667134430868814, 0.06667134430868814)

# n10 = zip(pontos,pesos)
#--------------------------------------------------------------------------
#--------------------------------------------------------------------------
#EX 74
# def f(x):
#    return math.sin(x/(math.sqrt(x**2+1))) + 1

# a,b = -1.63081, 1.90064

# def g(u):
#    return mudanca(f,a,b,u)

# pontos = (-0.10805494870734367, 0.10805494870734367, -0.31911236892788974, 0.31911236892788974, -0.5152486363581541, 0.5152486363581541, -0.6872929048116855, 0.6872929048116855, -0.827201315069765, 0.827201315069765, -0.9284348836635735, 0.9284348836635735, -0.9862838086968123, 0.9862838086968123)
# pesos = (0.2152638534631578, 0.2152638534631578, 0.2051984637212956, 0.2051984637212956, 0.18553839747793782, 0.18553839747793782, 0.15720316715819355, 0.15720316715819355, 0.12151857068790319, 0.12151857068790319, 0.08015808715976021, 0.08015808715976021, 0.03511946033175186, 0.03511946033175186)
# n14 = zip(pontos,pesos)
#--------------------------------------------------------------------------
#--------------------------------------------------------------------------
#EX 75
def f(x):
   return math.sin(math.e**-(x**2)) + 1

a,b = -1.57783, 1.89333

def g(u):
   return mudanca(f,a,b,u)

pontos = (0, -0.16035864564022537, 0.16035864564022537, -0.31656409996362983, 0.31656409996362983, -0.46457074137596094, 0.46457074137596094, -0.600545304661681, 0.600545304661681, -0.7209661773352294, 0.7209661773352294, -0.8227146565371428, 0.8227146565371428, -0.9031559036148179, 0.9031559036148179, -0.96020815213483, 0.96020815213483, -0.9924068438435844, 0.9924068438435844)
pesos = (0.1610544498487837, 0.15896884339395434, 0.15896884339395434, 0.15276604206585967, 0.15276604206585967, 0.1426067021736066, 0.1426067021736066, 0.12875396253933621, 0.12875396253933621, 0.11156664554733399, 0.11156664554733399, 0.09149002162245, 0.09149002162245, 0.06904454273764123, 0.06904454273764123, 0.0448142267656996, 0.0448142267656996, 0.019461788229726478, 0.019461788229726478)
n19 = zip(pontos,pesos)
#--------------------------------------------------------------------------
#--------------------------------------------------------------------------
#EX P2.10
def f(x):
   return math.sqrt(math.sin(math.cos(math.log(x**2+1)+2)+3)+4)

a,b = -1.74305, 1.3819

def g(u):
   return mudanca(f,a,b,u)

pontos = (-0.14887433898163122, 0.14887433898163122, -0.4333953941292472, 0.4333953941292472, -0.6794095682990244, 0.6794095682990244, -0.8650633666889845, 0.8650633666889845, -0.9739065285171717, 0.9739065285171717)
pesos = (0.29552422471475287, 0.29552422471475287, 0.26926671930999635, 0.26926671930999635, 0.21908636251598204, 0.21908636251598204, 0.1494513491505806, 0.1494513491505806, 0.06667134430868814, 0.06667134430868814)
n10 = zip(pontos,pesos)
#--------------------------------------------------------------------------


if __name__ == "__main__":
   print(quadratura(g,n10))
